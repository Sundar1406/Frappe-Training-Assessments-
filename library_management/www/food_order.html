{% extends "templates/web.html" %}

{% block page_content %}
<link rel="stylesheet" href="/assets/library_management/css/food_order.css">
<h2>Place Your Food Order</h2>
<form id="food-order-form" method="POST">
    <div style="margin-bottom: 1em;">
        <label for="select_items">Select Item:</label>
        <select id="select_items" name="select_items" required>
            <option value="">-- Choose an item --</option>
            <option value="Butter Chicken with Naan">Butter Chicken with Naan</option>
            <option value="Chicken Biryani">Chicken Biryani</option>
            <option value="Paneer Butter Masala">Paneer Butter Masala</option>
            <option value="Chicken Fried Rice">Chicken Fried Rice</option>
            <option value="Dal Tadka with Jeera Rice">Dal Tadka with Jeera Rice</option>
        </select>
    </div>
    <div style="margin-bottom: 1em;">
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" name="quantity" min="1" value="1" required>
    </div>
    <div style="margin-bottom: 1em;">
        <label for="delivery_address">Delivery Address:</label>
        <input type="text" id="delivery_address" name="delivery_address" required>
    </div>
    <div style="margin-bottom: 1em;">
        <label for="email_address">Email Address:</label>
        <input type="email" id="email_address" name="email_address" required>
    </div>
    <div style="margin-bottom: 1em;">
        <label for="phone_number">Phone Number:</label>
        <input type="text" id="phone_number" name="phone_number" required>
    </div>
    <button type="submit">Place Order</button>
</form>
<div id="order-result" style="margin-top:2em;"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const itemPrices = {
        "Butter Chicken with Naan": 250,
        "Chicken Biryani": 180,
        "Paneer Butter Masala": 200,
        "Chicken Fried Rice": 170,
        "Dal Tadka with Jeera Rice": 160
    };

    document.getElementById('food-order-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const item = document.getElementById('select_items').value;
        const quantity = parseInt(document.getElementById('quantity').value) || 0;
        const address = document.getElementById('delivery_address').value;
        const email = document.getElementById('email_address').value;
        const phone = document.getElementById('phone_number').value;
        if (!item || !quantity || !address || !email || !phone) {
            alert('Please fill all fields.');
            return;
        }
        const price = itemPrices[item] || 0;
        const total = price * quantity;
        document.getElementById('order-result').innerHTML =
            `<h3>Order Summary</h3>
            <b>Item:</b> ${item}<br>
            <b>Quantity:</b> ${quantity}<br>
            <b>Price per item:</b> ₹${price}<br>
            <b>Total:</b> ₹${total}<br>
            <b>Delivery Address:</b> ${address}<br>
            <b>Email:</b> ${email}<br>
            <b>Phone:</b> ${phone}<br>
            <span style='color:green;'>Order placed successfully! (Demo only)</span>`;
    });
});
</script>
{% endblock %}
